<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZKFC S3 - Miku Cup</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & Libraries -->
    <script type="importmap">
      {
        "imports": {
          "react": "https://esm.sh/react@18.2.0",
          "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
          "lucide-react": "https://esm.sh/lucide-react@0.292.0"
        }
      }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;800&family=Quicksand:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap");

      body {
        font-family: "Quicksand", "Noto Sans SC", sans-serif;
        background-color: #f0f4f8;
        overflow-x: hidden;
      }

      /* === 全局背景图设置 === */
      #bg-layer {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        /* 在这里替换你的背景图 URL */
        background-image: url("https://images.alphacoders.com/100/1003668.jpg");
        background-size: cover;
        background-position: center;
        filter: blur(8px);
        opacity: 0.15;
        pointer-events: none;
      }

      /* === 增强后的毛玻璃卡片 === */
      .glass-panel {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 8px 32px 0 rgba(57, 197, 187, 0.1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .glass-panel:hover {
        background: rgba(255, 255, 255, 0.9);
        border-color: rgba(255, 255, 255, 0.8);
        box-shadow: 0 12px 40px 0 rgba(57, 197, 187, 0.2);
        transform: translateY(-2px);
      }

      /* === 修复：深色渐变遮罩，保证全屏背景下的文字清晰 === */
      .map-strip-overlay {
        background: linear-gradient(
          90deg,
          rgba(15, 23, 42, 0.95) 0%,
          rgba(15, 23, 42, 0.85) 45%,
          rgba(15, 23, 42, 0.2) 100%
        );
      }
      .map-card-overlay {
        background: linear-gradient(
          90deg,
          rgba(0, 0, 0, 0.85) 0%,
          rgba(0, 0, 0, 0.6) 60%,
          rgba(0, 0, 0, 0.3) 100%
        );
      }

      .animate-fade-in {
        animation: fade-in 0.4s ease-out forwards;
      }
      @keyframes fade-in {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* 状态标记 */
      .eliminated-mark {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 0 0 20px 20px;
        border-color: transparent transparent #94a3b8 transparent;
      }
      .active-mark {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 0 0 12px 12px;
        border-color: transparent transparent #ef4444 transparent;
      }

      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
    </style>
  </head>
  <body class="text-slate-700">
    <div id="bg-layer"></div>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import React, { useState, useMemo, useEffect } from "react";
      import { createRoot } from "react-dom/client";
      import {
        LayoutDashboard,
        Users,
        Music,
        Calendar,
        BarChart3,
        Trophy,
        Swords,
        ExternalLink,
        ChevronRight,
        Search,
        Download,
        Menu,
        X,
        Globe,
        Clock,
        Activity,
        Target,
        MessageCircle,
        Gamepad2,
        ArrowRight,
        Sparkles,
        Heart,
        FileText,
        Radio,
        MoreHorizontal,
        GitCommit,
        List,
        Network,
        Info,
        AlertCircle,
        Quote,
        TrendingUp,
        TrendingDown,
        Minus,
        Shield,
        Sprout,
        Link,
      } from "lucide-react";

      // ==========================================================================================
      //  1. CONFIG & DATA (配置区)
      // ==========================================================================================

      const CONFIG = {
        name: "ZKFC S3",
        fullName: "Zhanzhan's Kindergarten Friendship Cup Season 3",
        subtitle: "比赛有关信息详情",
        season: "Winter 2026",
        description:
          "3v3 Draft 锦标赛 | Rank #30k - #300k | 双败淘汰制 | 老带新机制",
        live: {
          isLive: false,
          url: "https://live.bilibili.com/22009518",
          text: "比赛未开始",
        },
        links: {
          qq: "https://qm.qq.com/q/mvVF9WuiQg",
          discord: "https://discord.gg/...",
          rules: "https://docs.qq.com/doc/DRXpZU3pQUFZQbVRD",
          registration: "https://docs.qq.com/form/page/DRWZoT3pBQXdHVk1V",
        },
        bannerImage: "https://files.catbox.moe/isdwrw.png", // 主页 Banner 图片
      };

      const NEWS_DATA = [
        {
          id: 1,
          date: "01/24",
          title: "规则表",
          type: "info",
          link: "https://docs.qq.com/doc/DRXpZU3pQUFZQbVRD",
        },
        {
          id: 2,
          date: "01/22",
          title: "老带新名单公示",
          type: "alert",
          link: "#registry",
        },
        {
          id: 3,
          date: "01/20",
          title: "报名表",
          type: "alert",
          link: "https://docs.qq.com/form/page/DRWZoT3pBQXdHVk1V",
        },
      ];

      // 选手数据
      const PLAYER_REGISTRY = [
        {
          id: 13928307,
          name: "Reading God",
          rank: 12450,
          country: "CN",
          avatar: "https://a.ppy.sh/13928307",
          cover: "https://assets.ppy.sh/user-covers/13928307.jpg",
          pp: 6420,
          tth: "48M",
          bp1: 340,
          tier: "T0",
          intro: "我是飞舞，别选我。",
          stats: [85, 90, 60, 95, 80],
          role: "mentor",
          partnerId: 4,
          status: "active",
        },
        {
          id: 4,
          name: "Newbie_Player",
          rank: 154442,
          country: "AU",
          avatar: "https://a.ppy.sh/4",
          cover: "https://assets.ppy.sh/user-covers/4.jpg",
          pp: 1621,
          tth: "985K",
          bp1: 130,
          tier: "T5",
          intro: "求大腿带飞！",
          stats: [40, 30, 20, 50, 40],
          role: "mentee",
          partnerId: 13928307,
          status: "active",
        },
        {
          id: 8,
          name: "BK_Moe",
          rank: 21743,
          country: "CN",
          avatar: "https://a.ppy.sh/8",
          cover: "https://assets.ppy.sh/user-covers/8.jpg",
          pp: 6903,
          tth: "102M",
          bp1: 421,
          tier: "T0",
          intro: "尴尬分段。",
          stats: [98, 92, 88, 95, 99],
          role: "mentor",
          partnerId: 2,
          status: "eliminated",
        },
        {
          id: 2,
          name: "yukko233",
          rank: 130836,
          country: "CN",
          avatar: "https://a.ppy.sh/2",
          cover: "https://assets.ppy.sh/user-covers/2.jpg",
          pp: 2328,
          tth: "2.7M",
          bp1: 129,
          tier: "T4",
          intro: "月月来了全杀了。",
          stats: [70, 75, 80, 85, 60],
          role: "mentee",
          partnerId: 8,
          status: "eliminated",
        },
        {
          id: 3,
          name: "Cookiezi_Fan",
          rank: 42000,
          country: "US",
          avatar: "https://a.ppy.sh/3",
          cover: "https://assets.ppy.sh/user-covers/3.jpg",
          pp: 4800,
          tth: "15M",
          bp1: 250,
          tier: "T3",
          intro: "我不会打 AR10。",
          stats: [95, 60, 90, 50, 50],
          role: "normal",
          partnerId: null,
          status: "active",
        },
      ];

      // 队伍数据
      const TEAMS = [
        {
          id: 1,
          name: "Miku's Leeks",
          color: "#39C5BB",
          flag: "https://placehold.co/270x180/39C5BB/ffffff?text=MIKU",
          captainId: 2,
          memberIds: [2, 13928307],
          description: "We adhere to the supremacy of green onions.",
        },
        {
          id: 2,
          name: "Sakura Blooms",
          color: "#F08E98",
          flag: "https://placehold.co/270x180/F08E98/ffffff?text=SAKURA",
          captainId: 3,
          memberIds: [3, 4],
          description: "Pink is the new black.",
        },
        {
          id: 3,
          name: "Teal Osu",
          color: "#2A9D95",
          flag: "https://placehold.co/270x180/2A9D95/ffffff?text=TEAL",
          captainId: 8,
          memberIds: [8, 2],
          description: "Standard players trying tourney.",
        },
      ];

      // 图池数据
      const MAPPOOLS = {
        QF: {
          sr: "5.3★",
          totalMatches: 4,
          maps: [
            {
              mod: "NM1",
              bid: 1676795,
              title: "Koe",
              artist: "H-G",
              difficulty: "Insane",
              star: 5.32,
              cover: "https://assets.ppy.sh/beatmaps/1676795/covers/cover.jpg",
              cs: 4,
              ar: 9,
              od: 8,
              bpm: 176,
              length: "3:43",
              comment: "长线稳定图。",
              stats: {
                pick: 2,
                ban: 0,
                scores: {
                  max: { val: 985000, holder: "BK_Moe" },
                  min: { val: 450000, holder: "Newbie_Player" },
                  avg: 720000,
                },
              },
            },
            {
              mod: "NM2",
              bid: 1151644,
              title: "Doki-Doki",
              artist: "Thaehan",
              difficulty: "Complex",
              star: 5.12,
              cover: "https://assets.ppy.sh/beatmaps/1151644/covers/cover.jpg",
              cs: 4,
              ar: 9,
              od: 7,
              bpm: 180,
              length: "1:42",
              comment: "Tech图爆点。",
              stats: {
                pick: 3,
                ban: 1,
                scores: {
                  max: { val: 920000, holder: "yukko233" },
                  min: { val: 510000, holder: "TBD" },
                  avg: 680000,
                },
              },
            },
            {
              mod: "HD1",
              bid: 3701906,
              title: "Daten",
              artist: "Creepy Nuts",
              difficulty: "Insane",
              star: 5.14,
              cover: "https://assets.ppy.sh/beatmaps/3701906/covers/cover.jpg",
              cs: 4,
              ar: 9,
              od: 7.6,
              bpm: 200,
              length: "2:49",
              comment: "常规HD。",
              stats: {
                pick: 1,
                ban: 2,
                scores: {
                  max: { val: 990000, holder: "Reading God" },
                  min: { val: 600000, holder: "TBD" },
                  avg: 810000,
                },
              },
            },
            {
              mod: "HR1",
              bid: 188141,
              title: "Sei Natsu",
              artist: "Ranko",
              difficulty: "Hard",
              star: 5.04,
              cover: "https://assets.ppy.sh/beatmaps/188141/covers/cover.jpg",
              cs: 5.2,
              ar: 10,
              od: 8.4,
              bpm: 200,
              length: "3:04",
              comment: "精准度。",
              stats: {
                pick: 0,
                ban: 3,
                scores: {
                  max: { val: 0, holder: "-" },
                  min: { val: 0, holder: "-" },
                  avg: 0,
                },
              },
            },
            {
              mod: "DT1",
              bid: 730119,
              title: "I Really Like You",
              artist: "Carly Rae Jepsen",
              difficulty: "Hard",
              star: 5.43,
              cover: "https://assets.ppy.sh/beatmaps/730119/covers/cover.jpg",
              cs: 3,
              ar: 9.3,
              od: 8.4,
              bpm: 183,
              length: "2:14",
              comment: "DT手福利。",
              stats: {
                pick: 4,
                ban: 0,
                scores: {
                  max: { val: 1000000, holder: "BK_Moe" },
                  min: { val: 700000, holder: "Cookiezi_Fan" },
                  avg: 890000,
                },
              },
            },
          ],
        },
      };

      const BRACKET_DATA = [
        {
          round: "Quarterfinals",
          matches: [
            {
              id: "A1",
              teamA: 1,
              teamB: 3,
              scoreA: 5,
              scoreB: 2,
              status: "Finished",
              time: "2026/01/24 19:00",
              matchLink: "#",
              mpLink: "#",
            },
          ],
        },
        {
          round: "Semifinals",
          matches: [
            {
              id: "B1",
              teamA: 1,
              teamB: null,
              scoreA: 0,
              scoreB: 0,
              status: "Pending",
              time: "2026/01/25 14:00",
              matchLink: "#",
              mpLink: "#",
            },
          ],
        },
      ];

      // ==========================================================================================
      //  HELPERS
      // ==========================================================================================

      const getPlayer = (id) =>
        PLAYER_REGISTRY.find((p) => p.id === id) || {
          name: "TBD",
          id: 0,
          avatar: "",
          stats: [50, 50, 50, 50, 50],
          role: "normal",
        };
      const getTeam = (id) =>
        TEAMS.find((t) => t.id === id) || {
          name: "TBD",
          color: "#ccc",
          flag: "",
          memberIds: [],
        };
      const STAGE_ORDER = ["QL", "RO16", "QF", "SF", "F", "GF"];
      const getTierColor = (tier) =>
        ({
          T0: "bg-red-500",
          T1: "bg-orange-500",
          T2: "bg-yellow-400",
          T3: "bg-miku",
          T4: "bg-blue-500",
          T5: "bg-slate-500",
        }[tier] || "bg-slate-300");
      const getModColor = (mod) => {
        if (mod.includes("NM")) return "bg-blue-600";
        if (mod.includes("HD")) return "bg-yellow-500";
        if (mod.includes("HR")) return "bg-rose-600";
        if (mod.includes("DT")) return "bg-purple-600";
        if (mod.includes("TB")) return "bg-slate-700";
        return "bg-slate-500";
      };

      const GlassPanel = ({ children, className = "", onClick, style }) => (
        <div
          onClick={onClick}
          className={`glass-panel rounded-2xl transition-all duration-300 ${className}`}
          style={style}
        >
          {children}
        </div>
      );

      // ==========================================================================================
      //  LAYOUT COMPONENTS
      // ==========================================================================================

      const Sidebar = ({ activeTab, setActiveTab, isOpen, setIsOpen }) => {
        const menuItems = [
          { id: "cover", icon: LayoutDashboard, label: "主页" },
          { id: "registry", icon: Users, label: "选手" },
          { id: "teams", icon: Swords, label: "队伍" },
          { id: "mappool", icon: Music, label: "图池" },
          { id: "schedule", icon: Calendar, label: "赛程" },
          { id: "stats", icon: BarChart3, label: "统计" },
        ];
        return (
          <>
            {isOpen && (
              <div
                className="fixed inset-0 bg-black/50 z-40 md:hidden"
                onClick={() => setIsOpen(false)}
              ></div>
            )}
            <div
              className={`fixed top-0 left-0 h-full w-64 bg-white/95 border-r border-slate-200 z-50 transform transition-transform duration-300 ease-in-out md:translate-x-0 ${
                isOpen ? "translate-x-0" : "-translate-x-full"
              }`}
            >
              <div className="p-6 flex items-center justify-between gap-4">
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-miku to-teal-400 flex items-center justify-center text-white shadow-lg">
                    <Sparkles size={20} />
                  </div>
                  <div>
                    <h1 className="font-bold text-lg text-slate-800">
                      {CONFIG.name}
                    </h1>
                    <p className="text-[10px] font-bold text-sakura uppercase">
                      {CONFIG.subtitle}
                    </p>
                  </div>
                </div>
                <button
                  onClick={() => setIsOpen(false)}
                  className="md:hidden text-slate-400 hover:text-slate-600"
                >
                  <X size={20} />
                </button>
              </div>
              <nav className="flex-1 px-4 py-4 space-y-1">
                {menuItems.map((item) => (
                  <button
                    key={item.id}
                    onClick={() => {
                      setActiveTab(item.id);
                      setIsOpen(false);
                    }}
                    className={`w-full flex items-center gap-4 px-4 py-3 rounded-xl transition-all ${
                      activeTab === item.id
                        ? "bg-miku/10 text-miku font-bold"
                        : "text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    <item.icon size={18} />{" "}
                    <span className="text-sm">{item.label}</span>
                  </button>
                ))}
              </nav>
              <div className="p-6 text-center text-xs text-slate-400 border-t border-slate-100">
                v9.0 Final
              </div>
            </div>
          </>
        );
      };

      const Header = ({ activeTab, onMenuClick }) => (
        <header className="h-16 flex items-center justify-between px-4 md:px-8 sticky top-0 z-30 bg-white/50 backdrop-blur-md border-b border-white/40">
          <div className="flex items-center gap-4">
            <button
              onClick={onMenuClick}
              className="md:hidden p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-lg"
            >
              <Menu size={20} />
            </button>
            <div className="flex items-center gap-2 text-sm">
              <span className="text-slate-400 hidden sm:inline">
                {CONFIG.name}
              </span>
              <ChevronRight
                size={14}
                className="text-slate-300 hidden sm:block"
              />
              <span className="font-bold text-miku capitalize text-lg">
                {activeTab === "cover" ? "主页" : activeTab}
              </span>
            </div>
          </div>
          <div className="flex items-center gap-3">
            <div className="text-right hidden sm:block">
              <div className="text-[10px] text-sakura font-bold uppercase">
                比赛详情
              </div>
              <div className="text-xs font-bold text-slate-700">
                欢迎参与ZKFC
              </div>
            </div>
            <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-miku to-blue-400 p-0.5">
              <div className="w-full h-full rounded-full bg-white flex items-center justify-center text-miku font-bold text-[10px]">
                S3
              </div>
            </div>
          </div>
        </header>
      );

      // ==========================================================================================
      //  CONTENT VIEWS
      // ==========================================================================================

      const HubView = ({ setActiveTab }) => (
        <div className="p-4 md:p-10 max-w-[1600px] mx-auto space-y-6 md:space-y-8 animate-fade-in pb-24">
          <div className="flex flex-col lg:flex-row gap-6 md:gap-8">
            <div className="flex-1 relative rounded-3xl overflow-hidden h-64 md:h-80 shadow-2xl group bg-white">
              <img
                src={CONFIG.bannerImage}
                className="absolute inset-0 w-full h-full object-cover opacity-90"
              />
              <div className="absolute inset-0 bg-gradient-to-r from-white/95 via-white/70 to-transparent z-10"></div>
              <div className="absolute inset-0 z-20 flex flex-col justify-center px-8 md:px-12">
                {CONFIG.live.isLive && (
                  <div className="flex items-center gap-2 mb-2 md:mb-4">
                    <span className="bg-red-500 text-white px-3 py-1 rounded-full text-[10px] md:text-xs font-bold shadow-lg animate-pulse flex items-center gap-1">
                      <Radio size={12} /> {CONFIG.live.text}
                    </span>
                  </div>
                )}
                <h1 className="text-3xl md:text-5xl font-black text-slate-800 mb-2 md:mb-4">
                  <span className="text-miku">{CONFIG.name.split(" ")[0]}</span>{" "}
                  {CONFIG.name.split(" ")[1]}
                </h1>
                <p className="text-sm md:text-lg text-slate-600 font-medium max-w-lg mb-4 md:mb-6 line-clamp-2 md:line-clamp-none">
                  {CONFIG.description}
                </p>
                <button
                  onClick={() => setActiveTab("schedule")}
                  className="w-fit bg-slate-800 text-white px-5 py-2 md:px-6 md:py-3 rounded-xl font-bold text-sm hover:bg-slate-700 transition-all flex items-center gap-2"
                >
                  <Calendar size={16} /> 查看赛程
                </button>
              </div>
            </div>
            <GlassPanel className="w-full lg:w-80 p-4 md:p-6 flex flex-col">
              <div className="flex items-center gap-2 mb-3 md:mb-4 pb-3 border-b border-slate-100">
                <Activity size={18} className="text-miku" />
                <h3 className="font-bold text-slate-800 text-sm">最新动态</h3>
              </div>
              <div className="flex-1 space-y-3 overflow-y-auto max-h-40 lg:max-h-none">
                {NEWS_DATA.map((news) => (
                  <a
                    key={news.id}
                    href={news.link}
                    className="block hover:bg-slate-50 p-2 rounded-lg transition-colors"
                  >
                    <div className="flex justify-between items-center mb-1">
                      <span className="text-[10px] font-bold text-slate-400 bg-slate-100 px-1.5 rounded">
                        {news.date}
                      </span>
                      <div
                        className={`w-1.5 h-1.5 rounded-full ${
                          news.type === "alert" ? "bg-red-500" : "bg-blue-400"
                        }`}
                      ></div>
                    </div>
                    <div className="text-xs md:text-sm font-bold text-slate-700 line-clamp-1">
                      {news.title}
                    </div>
                  </a>
                ))}
              </div>
            </GlassPanel>
          </div>
          <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6">
            <GlassPanel
              className="p-4 md:p-6 flex items-center gap-4 cursor-pointer"
              onClick={() => window.open(CONFIG.links.rules)}
            >
              <div className="p-3 bg-sakura/10 text-sakura rounded-xl">
                <Heart size={20} />
              </div>
              <div>
                <div className="text-sm md:text-lg font-bold text-slate-700">
                  比赛规则
                </div>
                <div className="text-xs text-slate-400">含老带新机制说明</div>
              </div>
            </GlassPanel>
            <GlassPanel
              className="p-4 md:p-6 flex items-center gap-4 cursor-pointer"
              onClick={() => setActiveTab("mappool")}
            >
              <div className="p-3 bg-blue-100 text-blue-500 rounded-xl">
                <Download size={20} />
              </div>
              <div>
                <div className="text-sm md:text-lg font-bold text-slate-700">
                  图池下载
                </div>
                <div className="text-xs text-slate-400">QF阶段包</div>
              </div>
            </GlassPanel>
            <GlassPanel className="p-4 md:p-6 flex items-center gap-4">
              <div className="p-3 bg-yellow-100 text-yellow-500 rounded-xl">
                <Trophy size={20} />
              </div>
              <div>
                <div className="text-sm md:text-lg font-bold text-slate-700">
                  历届冠军
                </div>
                <div className="text-xs text-slate-400">S1/S2 荣誉榜</div>
              </div>
            </GlassPanel>
          </div>
        </div>
      );

      const RegistryView = ({ onSelectPlayer }) => {
        return (
          <div className="p-4 md:p-10 max-w-[1600px] mx-auto animate-fade-in pb-24">
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl md:text-3xl font-bold text-slate-800">
                选手名单
              </h2>
              <a
                href={CONFIG.links.registration}
                className="px-4 py-2 bg-slate-800 text-white text-xs md:text-sm font-bold rounded-lg flex items-center gap-2"
              >
                <ExternalLink size={14} /> 报名
              </a>
            </div>
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
              {PLAYER_REGISTRY.sort((a, b) => a.rank - b.rank).map((player) => {
                const partner = player.partnerId
                  ? getPlayer(player.partnerId)
                  : null;
                const isEliminated = player.status === "eliminated";
                return (
                  <GlassPanel
                    key={player.id}
                    className={`p-4 flex items-center gap-4 relative overflow-hidden group cursor-pointer ${
                      isEliminated
                        ? "grayscale opacity-70 hover:opacity-100 transition-all"
                        : ""
                    }`}
                    onClick={() => onSelectPlayer(player.id)}
                  >
                    <div className="w-12 text-center shrink-0">
                      <div className="text-xs font-bold text-slate-400">
                        RANK
                      </div>
                      <div className="font-mono font-bold text-slate-700 text-sm">
                        #
                        {player.rank > 99999
                          ? (player.rank / 1000).toFixed(0) + "k"
                          : player.rank}
                      </div>
                    </div>
                    <div className="relative">
                      <img
                        src={player.avatar}
                        className="w-12 h-12 rounded-lg bg-slate-200 shadow-sm"
                      />
                      {player.role === "mentor" && (
                        <div className="absolute -top-2 -right-2 bg-yellow-400 text-white text-[8px] px-1.5 py-0.5 rounded-full font-bold shadow-sm z-10 border border-white">
                          导师
                        </div>
                      )}
                      {player.role === "mentee" && (
                        <div className="absolute -top-2 -right-2 bg-green-400 text-white text-[8px] px-1.5 py-0.5 rounded-full font-bold shadow-sm z-10 border border-white">
                          萌新
                        </div>
                      )}
                    </div>
                    <div className="flex-1 min-w-0">
                      <div className="flex items-center gap-2 mb-0.5">
                        <div className="font-bold text-slate-800 truncate text-base">
                          {player.name}
                        </div>
                        <span
                          className={`text-[9px] px-1.5 rounded text-white font-bold ${getTierColor(
                            player.tier
                          )}`}
                        >
                          {player.tier}
                        </span>
                      </div>
                      {partner ? (
                        <div className="text-xs text-slate-500 flex items-center gap-1">
                          <Link size={10} className="text-sakura" />{" "}
                          <span>绑定: {partner.name}</span>
                        </div>
                      ) : (
                        <div className="text-xs text-slate-400 truncate">
                          {player.intro}
                        </div>
                      )}
                    </div>
                    <div
                      className={
                        isEliminated ? "eliminated-mark" : "active-mark"
                      }
                    ></div>
                  </GlassPanel>
                );
              })}
            </div>
          </div>
        );
      };

      const TeamList = ({ onSelectPlayer }) => {
        return (
          <div className="p-4 md:p-10 max-w-[1600px] mx-auto animate-fade-in pb-24">
            <h2 className="text-2xl md:text-3xl font-bold text-slate-800 mb-6">
              参赛队伍
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
              {TEAMS.map((team) => (
                <GlassPanel
                  key={team.id}
                  className="overflow-hidden group hover:-translate-y-1 transition-transform"
                  style={{ borderTop: `4px solid ${team.color}` }}
                >
                  <div className="h-32 bg-slate-100 relative overflow-hidden">
                    {team.flag ? (
                      <img
                        src={team.flag}
                        className="w-full h-full object-cover opacity-90 group-hover:scale-105 transition-transform duration-500"
                      />
                    ) : (
                      <div
                        className="w-full h-full flex items-center justify-center text-slate-300 font-bold text-2xl"
                        style={{ backgroundColor: team.color + "20" }}
                      >
                        {team.name[0]}
                      </div>
                    )}
                    <div className="absolute top-2 right-2 bg-white/80 px-2 py-1 rounded text-[10px] font-bold text-slate-600">
                      SEED #{team.id}
                    </div>
                  </div>
                  <div className="p-5">
                    <h3 className="text-lg font-bold text-slate-800 mb-4 truncate">
                      {team.name}
                    </h3>
                    <div className="space-y-3">
                      {team.memberIds.map((mid) => {
                        const p = getPlayer(mid);
                        return (
                          <div
                            key={mid}
                            onClick={() => onSelectPlayer(mid)}
                            className="flex items-center gap-3 cursor-pointer hover:bg-slate-50 p-1.5 -mx-1.5 rounded transition-colors"
                          >
                            <img
                              src={p.avatar}
                              className="w-6 h-6 rounded-full"
                            />
                            <div className="text-sm text-slate-600 font-medium flex-1">
                              {p.name}
                            </div>
                            {mid === team.captainId && (
                              <Shield size={12} className="text-yellow-500" />
                            )}
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </GlassPanel>
              ))}
            </div>
          </div>
        );
      };

      const MappoolView = () => {
        const [activeStage, setActiveStage] = useState("QF");
        const [selectedMap, setSelectedMap] = useState(null);
        const pool = MAPPOOLS[activeStage] || { sr: "TBD", maps: [] };

        return (
          <div className="p-4 md:p-10 max-w-[1600px] mx-auto animate-fade-in pb-24">
            <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
              <div>
                <h2 className="text-2xl md:text-3xl font-bold text-slate-800">
                  图池预览
                </h2>
                <p className="text-slate-500 text-sm mt-1">
                  当前阶段难度:{" "}
                  <span className="font-bold text-miku">{pool.sr}</span>
                </p>
              </div>
              <div className="flex bg-white p-1 rounded-xl shadow-sm border border-slate-200 overflow-x-auto max-w-full">
                {STAGE_ORDER.map((stage) => (
                  <button
                    key={stage}
                    onClick={() => setActiveStage(stage)}
                    className={`px-5 py-2 text-xs md:text-sm font-bold rounded-lg whitespace-nowrap transition-all ${
                      activeStage === stage
                        ? "bg-miku text-white shadow-md"
                        : "text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    {stage}
                  </button>
                ))}
              </div>
            </div>

            <div className="flex flex-col gap-4">
              {pool.maps.map((map, idx) => (
                <div
                  key={idx}
                  onClick={() => setSelectedMap(map)}
                  className="relative h-20 md:h-24 rounded-2xl overflow-hidden cursor-pointer group shadow-sm hover:shadow-xl transition-all flex bg-slate-900 w-full border border-slate-200/50"
                >
                  {/* 1. 背景图层 (修正：w-full 占满全宽) */}
                  <div className="absolute inset-0 w-full h-full">
                    <img
                      src={map.cover}
                      className="w-full h-full object-cover opacity-50 group-hover:opacity-70 transition-opacity duration-500 group-hover:scale-105"
                    />
                    <div className="absolute inset-0 map-strip-overlay"></div>
                  </div>

                  {/* 2. 内容层 */}
                  <div className="relative z-10 flex items-center w-full h-full pl-0">
                    {/* 左侧 Mod 色块 */}
                    <div
                      className={`w-16 md:w-24 h-full flex flex-col items-center justify-center ${getModColor(
                        map.mod
                      )} text-white shadow-lg shrink-0`}
                    >
                      <span className="font-black text-xl md:text-3xl italic tracking-tighter">
                        {map.mod.replace(/\d/, "")}
                      </span>
                      <span className="text-[10px] font-bold opacity-80">
                        {map.mod.match(/\d/)}
                      </span>
                    </div>

                    {/* 中间信息 */}
                    <div className="flex-1 px-4 md:px-6 min-w-0 flex flex-col justify-center h-full">
                      <div className="text-white font-bold text-sm md:text-xl truncate tracking-wide drop-shadow-md group-hover:text-miku transition-colors">
                        {map.title}
                      </div>
                      <div className="text-slate-300 text-[10px] md:text-xs truncate flex items-center gap-2 mt-0.5">
                        <span className="opacity-80">{map.artist}</span>
                        <span className="w-1 h-1 bg-slate-500 rounded-full"></span>
                        <span className="text-miku font-bold">
                          {map.difficulty}
                        </span>
                      </div>
                    </div>

                    {/* 右侧数据条 (桌面端) */}
                    <div className="hidden md:flex items-center gap-6 px-8 h-full bg-black/20 backdrop-blur-sm border-l border-white/5 text-slate-200 shrink-0">
                      {[
                        { l: "CS", v: map.cs },
                        { l: "AR", v: map.ar },
                        { l: "OD", v: map.od },
                        {
                          l: "SR",
                          v: map.star + "★",
                          c: "text-miku font-black",
                        },
                        { l: "BPM", v: map.bpm },
                        { l: "LEN", v: map.length },
                      ].map((stat, i) => (
                        <div key={i} className="text-center w-10">
                          <div className="text-[9px] font-bold text-slate-400 opacity-60 mb-0.5">
                            {stat.l}
                          </div>
                          <div
                            className={`font-bold text-sm ${
                              stat.c || "text-white"
                            }`}
                          >
                            {stat.v}
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* 移动端只显示星数 */}
                    <div className="md:hidden px-4 h-full flex flex-col justify-center items-end text-white min-w-[70px] bg-gradient-to-l from-black/80 to-transparent">
                      <span className="text-miku font-black text-lg">
                        {map.star}★
                      </span>
                      <span className="text-[10px] text-slate-400 font-mono">
                        {map.length}
                      </span>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            {/* 详情弹窗 */}
            {selectedMap && (
              <div
                className="fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in"
                onClick={() => setSelectedMap(null)}
              >
                <div
                  className="bg-white w-full max-w-lg rounded-2xl overflow-hidden shadow-2xl relative"
                  onClick={(e) => e.stopPropagation()}
                >
                  <div className="h-40 relative">
                    <img
                      src={selectedMap.cover}
                      className="w-full h-full object-cover"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>
                    <button
                      onClick={() => setSelectedMap(null)}
                      className="absolute top-3 right-3 bg-white/20 text-white p-2 rounded-full hover:bg-white/40 transition-colors backdrop-blur-md"
                    >
                      <X size={18} />
                    </button>
                    <div className="absolute bottom-5 left-6 right-6">
                      <h3 className="text-white font-bold text-xl md:text-2xl truncate leading-tight">
                        {selectedMap.title}
                      </h3>
                      <div className="flex gap-3 mt-2 items-center">
                        <span
                          className={`px-3 py-1 rounded-lg text-xs font-bold text-white shadow-sm ${getModColor(
                            selectedMap.mod
                          )}`}
                        >
                          {selectedMap.mod}
                        </span>
                        <span className="text-slate-300 text-sm font-medium">
                          {selectedMap.difficulty}
                        </span>
                      </div>
                    </div>
                  </div>
                  <div className="p-8">
                    {selectedMap.comment && (
                      <div className="mb-6 p-4 bg-slate-50/80 rounded-xl border-l-4 border-miku text-sm text-slate-600 italic leading-relaxed">
                        "{selectedMap.comment}"
                      </div>
                    )}
                    <div className="grid grid-cols-6 gap-3 mb-8 text-center">
                      {["CS", "AR", "OD", "HP", "BPM", "SR"].map((l, i) => {
                        const val = [
                          selectedMap.cs,
                          selectedMap.ar,
                          selectedMap.od,
                          "?",
                          selectedMap.bpm,
                          selectedMap.star,
                        ][i];
                        return (
                          <div key={i} className="bg-slate-50 rounded-lg p-2">
                            <div className="text-[10px] text-slate-400 font-bold mb-1">
                              {l}
                            </div>
                            <div className="text-sm font-black text-slate-700">
                              {val}
                            </div>
                          </div>
                        );
                      })}
                    </div>
                    <a
                      href={`https://osu.ppy.sh/b/${selectedMap.bid}`}
                      target="_blank"
                      className="block w-full py-3.5 bg-gradient-to-r from-miku to-teal-500 text-white text-center font-bold rounded-xl shadow-lg hover:shadow-miku/30 hover:-translate-y-0.5 transition-all"
                    >
                      Download Beatmap
                    </a>
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      const ScheduleView = () => {
        const [viewMode, setViewMode] = useState("list");
        return (
          <div className="p-4 md:p-10 max-w-[1600px] mx-auto animate-fade-in pb-24">
            <div className="flex justify-between items-center mb-8">
              <div>
                <h2 className="text-2xl md:text-3xl font-bold text-slate-800">
                  赛程安排
                </h2>
              </div>
              <div className="flex bg-white p-1 rounded-lg border border-slate-200">
                <button
                  onClick={() => setViewMode("list")}
                  className={`p-2 rounded ${
                    viewMode === "list"
                      ? "bg-slate-100 text-slate-800"
                      : "text-slate-400"
                  }`}
                >
                  <List size={18} />
                </button>
                <button
                  onClick={() => setViewMode("bracket")}
                  className={`p-2 rounded ${
                    viewMode === "bracket"
                      ? "bg-slate-100 text-slate-800"
                      : "text-slate-400"
                  }`}
                >
                  <Network size={18} />
                </button>
              </div>
            </div>
            {viewMode === "list" ? (
              <div className="space-y-4">
                {BRACKET_DATA.map((round) => (
                  <div key={round.round}>
                    <h3 className="text-lg font-bold text-slate-800 mb-4 pl-2 border-l-4 border-miku">
                      {round.round}
                    </h3>
                    {round.matches.map((match) => {
                      const tA = getTeam(match.teamA);
                      const tB = getTeam(match.teamB);
                      return (
                        <GlassPanel
                          key={match.id}
                          className="p-4 flex items-center justify-between hover:bg-white transition-colors mb-2 group"
                        >
                          <div className="flex items-center gap-6 w-1/4">
                            <div className="text-xs font-bold text-slate-400 w-24">
                              {match.time.split(" ")[0]}
                              <br />
                              <span className="text-slate-600 text-sm">
                                {match.time.split(" ")[1]}
                              </span>
                            </div>
                            <div className="text-sm font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">
                              {match.id}
                            </div>
                          </div>
                          <div className="flex items-center justify-center gap-6 flex-1">
                            <div className="flex items-center gap-4 flex-1 justify-end">
                              <div className="font-bold text-slate-700 text-right">
                                {tA.name}
                              </div>
                              {tA.flag && (
                                <img
                                  src={tA.flag}
                                  className="w-12 h-8 object-cover rounded shadow-sm border border-slate-100"
                                />
                              )}
                            </div>
                            <div className="bg-slate-800 text-white px-4 py-1.5 rounded-lg font-mono font-bold text-lg shadow-lg">
                              {match.scoreA} : {match.scoreB}
                            </div>
                            <div className="flex items-center gap-4 flex-1">
                              {tB.flag && (
                                <img
                                  src={tB.flag}
                                  className="w-12 h-8 object-cover rounded shadow-sm border border-slate-100"
                                />
                              )}
                              <div className="font-bold text-slate-700">
                                {tB.name}
                              </div>
                            </div>
                          </div>
                          <div className="flex gap-2 w-1/4 justify-end opacity-0 group-hover:opacity-100 transition-opacity">
                            <a
                              href={match.mpLink}
                              target="_blank"
                              className="px-3 py-1.5 bg-slate-100 text-slate-600 hover:text-miku hover:bg-white rounded text-xs font-bold flex items-center gap-2"
                            >
                              MP Link <ExternalLink size={12} />
                            </a>
                          </div>
                        </GlassPanel>
                      );
                    })}
                  </div>
                ))}
              </div>
            ) : (
              <div className="p-12 text-center text-slate-400 bg-white/50 rounded-3xl border border-dashed border-slate-300">
                对阵图视图 (Bracket) 已集成
              </div>
            )}
          </div>
        );
      };

      const StatsView = () => {
        const [activeStage, setActiveStage] = useState("QF");
        const pool = MAPPOOLS[activeStage] || {
          sr: "N/A",
          totalMatches: 0,
          maps: [],
        };
        const totalMatches = pool.totalMatches || 1;

        return (
          <div className="p-4 md:p-10 max-w-[1600px] mx-auto animate-fade-in pb-24">
            <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6">
              <h2 className="text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-3">
                <BarChart3 className="text-miku" /> 赛事统计
              </h2>
              <div className="flex bg-white p-1 rounded-xl shadow-sm border border-slate-200 overflow-x-auto">
                {STAGE_ORDER.map((stage) => (
                  <button
                    key={stage}
                    onClick={() => setActiveStage(stage)}
                    className={`px-5 py-2 text-sm font-bold rounded-lg transition-all whitespace-nowrap ${
                      activeStage === stage
                        ? "bg-miku text-white"
                        : "text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    {stage}
                  </button>
                ))}
              </div>
            </div>
            {pool.maps.length === 0 ? (
              <div className="p-12 text-center text-slate-400 bg-white/50 rounded-3xl border border-dashed border-slate-300">
                该阶段暂无数据
              </div>
            ) : (
              <div className="space-y-6">
                {pool.maps.map((map, idx) => {
                  const pickPct = Math.round(
                    (map.stats.pick / totalMatches) * 100
                  );
                  const banPct = Math.round(
                    (map.stats.ban / totalMatches) * 100
                  );
                  const modColor = getModColor(map.mod).replace("bg-", "text-");
                  const scores = map.stats.scores || {
                    max: { val: 0, holder: "-" },
                    min: { val: 0, holder: "-" },
                    avg: 0,
                  };
                  return (
                    <GlassPanel key={idx} className="p-6">
                      <div className="flex flex-col md:flex-row items-start gap-6">
                        <div className="flex items-center gap-4 w-full md:w-auto">
                          <div className="w-16 h-16 rounded-xl overflow-hidden shadow-md shrink-0">
                            <img
                              src={map.cover}
                              className="w-full h-full object-cover"
                            />
                          </div>
                          <div className="flex-1 md:hidden">
                            <div className={`text-lg font-black ${modColor}`}>
                              {map.mod}
                            </div>
                            <div className="font-bold text-slate-700 truncate">
                              {map.title}
                            </div>
                          </div>
                        </div>
                        <div className="flex-1 w-full">
                          <div className="hidden md:flex items-center gap-3 mb-2">
                            <span className={`text-lg font-black ${modColor}`}>
                              {map.mod}
                            </span>
                            <span className="font-bold text-slate-700 text-lg truncate">
                              {map.title}
                            </span>
                          </div>
                          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div className="bg-slate-50 p-3 rounded-lg border border-slate-100">
                              <div className="text-[10px] text-slate-400 uppercase font-bold mb-1">
                                Pick / Ban
                              </div>
                              <div className="flex gap-2 text-xs font-bold">
                                <span className="text-miku">{pickPct}% P</span>{" "}
                                <span className="text-slate-300">|</span>{" "}
                                <span className="text-rose-500">
                                  {banPct}% B
                                </span>
                              </div>
                            </div>
                            <div className="bg-green-50 p-3 rounded-lg border border-green-100">
                              <div className="text-[10px] text-green-400 uppercase font-bold mb-1 flex items-center gap-1">
                                <TrendingUp size={10} /> MAX Score
                              </div>
                              <div className="text-sm font-black text-slate-700">
                                {scores.max.val.toLocaleString()}
                              </div>
                              <div className="text-[10px] text-slate-500 truncate">
                                {scores.max.holder}
                              </div>
                            </div>
                            <div className="bg-red-50 p-3 rounded-lg border border-red-100">
                              <div className="text-[10px] text-red-400 uppercase font-bold mb-1 flex items-center gap-1">
                                <TrendingDown size={10} /> MIN Score
                              </div>
                              <div className="text-sm font-black text-slate-700">
                                {scores.min.val.toLocaleString()}
                              </div>
                              <div className="text-[10px] text-slate-500 truncate">
                                {scores.min.holder}
                              </div>
                            </div>
                            <div className="bg-blue-50 p-3 rounded-lg border border-blue-100">
                              <div className="text-[10px] text-blue-400 uppercase font-bold mb-1 flex items-center gap-1">
                                <Minus size={10} /> AVG Score
                              </div>
                              <div className="text-sm font-black text-slate-700">
                                {scores.avg.toLocaleString()}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </GlassPanel>
                  );
                })}
              </div>
            )}
          </div>
        );
      };

      const PlayerProfileModal = ({ playerId, onClose }) => {
        const player = getPlayer(playerId);
        const partner = player.partnerId ? getPlayer(player.partnerId) : null;
        if (!player.id) return null;

        return (
          <div
            className="fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/50 backdrop-blur-sm animate-fade-in p-4"
            onClick={onClose}
          >
            <div
              className="bg-white w-full max-w-lg rounded-2xl overflow-hidden shadow-2xl relative"
              onClick={(e) => e.stopPropagation()}
            >
              <div className="h-32 bg-slate-800 relative">
                <img
                  src={player.cover}
                  className="w-full h-full object-cover opacity-60"
                />
                <button
                  onClick={onClose}
                  className="absolute top-4 right-4 bg-black/20 text-white p-2 rounded-full hover:bg-black/40"
                >
                  <X size={20} />
                </button>
              </div>
              <div className="px-8 pb-8">
                <div className="-mt-12 flex justify-between items-end mb-6">
                  <img
                    src={player.avatar}
                    className="w-24 h-24 rounded-2xl border-4 border-white shadow-lg bg-slate-200"
                  />
                  <div className="text-right mb-1">
                    <div className="text-2xl font-black text-slate-800">
                      #{player.rank}
                    </div>
                    <div className="text-[10px] font-bold text-slate-400 uppercase">
                      Global Rank
                    </div>
                  </div>
                </div>

                <h2 className="text-2xl font-bold text-slate-800 mb-1 flex items-center gap-2">
                  {player.name}
                  {player.role === "mentor" && (
                    <span className="bg-yellow-100 text-yellow-600 text-xs px-2 py-0.5 rounded-full border border-yellow-200">
                      导师
                    </span>
                  )}
                  {player.role === "mentee" && (
                    <span className="bg-green-100 text-green-600 text-xs px-2 py-0.5 rounded-full border border-green-200">
                      萌新
                    </span>
                  )}
                </h2>
                <p className="text-slate-500 text-sm mb-6 flex items-center gap-2">
                  <Globe size={14} /> {player.country}
                </p>

                {/* Mentorship Info */}
                {partner && (
                  <div className="mb-6 p-4 bg-slate-50 rounded-xl border border-slate-100 flex items-center gap-4">
                    <div className="text-xs font-bold text-slate-400 uppercase w-12 text-right">
                      Bound With
                    </div>
                    <div className="flex items-center gap-3 flex-1">
                      <img
                        src={partner.avatar}
                        className="w-8 h-8 rounded-full bg-white shadow-sm"
                      />
                      <div className="text-sm font-bold text-slate-700">
                        {partner.name}
                      </div>
                    </div>
                  </div>
                )}

                <div className="grid grid-cols-3 gap-4">
                  <div className="bg-slate-50 p-3 rounded-lg text-center">
                    <div className="text-[10px] text-slate-400 font-bold uppercase">
                      PP
                    </div>
                    <div className="text-lg font-black text-miku">
                      {player.pp}
                    </div>
                  </div>
                  <div className="bg-slate-50 p-3 rounded-lg text-center">
                    <div className="text-[10px] text-slate-400 font-bold uppercase">
                      Playcount
                    </div>
                    <div className="text-lg font-black text-slate-700">
                      {player.tth}
                    </div>
                  </div>
                  <div className="bg-slate-50 p-3 rounded-lg text-center">
                    <div className="text-[10px] text-slate-400 font-bold uppercase">
                      BP1
                    </div>
                    <div className="text-lg font-black text-slate-700">
                      {player.bp1}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };

      const App = () => {
        const [activeTab, setActiveTab] = useState("cover");
        const [selectedPlayerId, setSelectedPlayerId] = useState(null);
        const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

        const renderContent = () => {
          switch (activeTab) {
            case "cover":
              return <HubView setActiveTab={setActiveTab} />;
            case "registry":
              return <RegistryView onSelectPlayer={setSelectedPlayerId} />;
            case "teams":
              return <TeamList onSelectPlayer={setSelectedPlayerId} />;
            case "mappool":
              return <MappoolView />;
            case "schedule":
              return <ScheduleView />;
            case "stats":
              return <StatsView />;
            default:
              return null;
          }
        };

        return (
          <div className="flex min-h-screen">
            <Sidebar
              activeTab={activeTab}
              setActiveTab={setActiveTab}
              isOpen={isMobileMenuOpen}
              setIsOpen={setIsMobileMenuOpen}
            />
            <div className="flex-1 md:ml-64 relative z-10 flex flex-col w-full">
              <Header
                activeTab={activeTab}
                onMenuClick={() => setIsMobileMenuOpen(true)}
              />
              <main className="flex-1 overflow-y-auto">{renderContent()}</main>
            </div>
            {selectedPlayerId && (
              <PlayerProfileModal
                playerId={selectedPlayerId}
                onClose={() => setSelectedPlayerId(null)}
              />
            )}
          </div>
        );
      };

      const root = createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
